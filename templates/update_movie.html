<!-- templates/index.html -->
{% extends "layout.html" %}

{% block title %}
<!-- the title in layout.html -->
user movies
{% endblock %}

{% block content %}
<!-- the content in the layout -->
<div class="update">
  <h1><b>UPDATE MOVIE</b></h1>
  <p>When you are done editing, click on <b>submit</b> to save the information.</p>
  <div class="div_form">
    <form action="/movie/info" method="POST">
      <div class="movie_title">
        <h1>{{ movie.title }} <span>{{ movie.year }}</span></h1>
      </div>
      <div class="row">
        <div class="col-sm-6 update_img">
          <img src="{{ movie.poster }}" alt="The cover is not available" style="max-height: 80%;">
        </div>

        <div class="col-sm-6">
          <label for="rating"><b>Rating</b></label><br>
          <input type="number" id="rating" name="rating" placeholder="{{ movie.rating }}">
          <br>
          <label for="genre"><b>Genre</b></label><br>
          <input type="text" id="genre" name="genre" placeholder="{{ movie.genre }}">
        </div>

        <div>
          <label for="text_description"><b>Description</b></label>
          <textarea class="form-control" rows="5" id="text_description" name="text_description">{{ movie.description }}</textarea>
          <p>If the description is missing, click
            <button id="btn_description" type="button" name="btn_description" value="" class="btn btn-info">get description</button>
            to find the information with GEMINI AI API
          </p>

          <div>
            <label for="text_bio"><b>Director Bio</b></label>
            <div class="row">
              <div class="col"><p><b>name</b> {{ movie.director.name }}</p></div>
              <div class="col"><p><b>birthday:</b> <span id="birth"></span> </p></div>
              <div class="col"><p><b>death day:</b> <span id="death"></span> </p></div>
            </div>
            <textarea class="form-control" rows="5" id="text_bio" name="text_bio">{{ movie.director.bio }}</textarea>
            <p>If the bio is missing, click
              <button id="btn_bio" type="button" name="btn_bio" value="" class="btn btn-info">get bio</button>
              to find the information with GEMINI AI API
            </p>
          </div>

          <div class="div_update_submit">

            <button type="submit" name="submit" value="bio" class="btn btn-warning">Submit</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

<script> const route = "/users/{{ user.id }}/update_movie/{{ movie.id }}"</script>
{% endblock %}